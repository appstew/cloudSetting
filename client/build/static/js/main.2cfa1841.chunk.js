(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(t,e,a){},64:function(t,e,a){},65:function(t,e,a){},69:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a(30),c=a.n(s),o=a(10),i=a(11),r=a(8),u=a(13),h=a(12),l=a(2),d=a(16),j=a.n(d),b=a(31),p=(a(54),a(1)),m=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={username:"",password:""},n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n.handleChange=n.handleChange.bind(Object(r.a)(n)),n}return Object(i.a)(a,[{key:"handleSubmit",value:function(){var t=this,e=this.state,a=e.username,n=e.password;j.a.post("".concat("http://http://ec2-43-201-31-146.ap-northeast-2.compute.amazonaws.com:8080http://http://ec2-43-201-31-146.ap-northeast-2.compute.amazonaws.com:8080http://http://ec2-43-201-31-146.ap-northeast-2.compute.amazonaws.com:8080","/signin"),{username:a,password:n},{withCredentials:!0}).then((function(e){localStorage.setItem("accessToken",e.data),t.props.handleStatus()})).catch((function(e){t.setState({username:"",password:""}),401===e.response.status&&(console.log(e.response.status),alert("\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694!"))}))}},{key:"handleChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"form-container",children:Object(p.jsxs)("form",{className:"form-items",onSubmit:function(t){return t.preventDefault()},children:[Object(p.jsx)("div",{className:"login",children:"Login"}),Object(p.jsx)("input",{type:"text",name:"username",placeholder:"\uc774\ub984",value:this.state.username,onChange:this.handleChange}),Object(p.jsx)("input",{type:"password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:this.state.password,onChange:this.handleChange}),Object(p.jsx)("button",{type:"submit",onClick:this.handleSubmit,children:"\ub85c\uadf8\uc778"})]})})}}]),a}(n.Component),g=Object(l.g)(m),O=(a(64),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleLogout=n.handleLogout.bind(Object(r.a)(n)),n}return Object(i.a)(a,[{key:"handleLogout",value:function(){localStorage.removeItem("accessToken"),this.props.changeLoginStatus()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"main-container",children:[Object(p.jsx)("div",{className:"session",children:"\ud1a0\ud070\uc744 \uc815\uc0c1\uc801\uc73c\ub85c \ubc1b\uc558\uc2b5\ub2c8\ub2e4"}),Object(p.jsx)("div",{className:"db",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc138\uc694"}),Object(p.jsx)("button",{type:"submit",onClick:this.handleLogout,children:"\ub85c\uadf8\uc544\uc6c3"})]})}}]),a}(n.Component)),v=(a(65),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={isLogin:!1,status:""},n.handleStatus=n.handleStatus.bind(Object(r.a)(n)),n.changeLoginStatus=n.changeLoginStatus.bind(Object(r.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.handleStatus()}},{key:"handleStatus",value:function(){var t=this;j.a.get("".concat("http://http://ec2-43-201-31-146.ap-northeast-2.compute.amazonaws.com:8080http://http://ec2-43-201-31-146.ap-northeast-2.compute.amazonaws.com:8080http://http://ec2-43-201-31-146.ap-northeast-2.compute.amazonaws.com:8080","/status"),{withCredentials:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then((function(e){var a=e.data,n=a.login,s=a.connectedToDatabase;t.setState({isLogin:n,status:s},(function(){t.props.history.push("/")}))})).catch((function(t){return console.log(t)}))}},{key:"changeLoginStatus",value:function(){var t=this;this.setState({isLogin:!1,status:""},(function(){t.props.history.push("/")}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.isLogin,n=e.status;return Object(p.jsx)("div",{className:"app",children:Object(p.jsxs)("div",{className:"container",children:[a?Object(p.jsx)("div",{className:"success",children:"\ub85c\uadf8\uc778\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}):Object(p.jsx)("div",{className:"status",children:"\uc774\ub984\uc5d0\ub294 \uae40\ucf54\ub529,\ube44\ubc00\ubc88\ud638\uc5d0\ub294 1234\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4"}),a?n?Object(p.jsx)("div",{className:"success",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}):Object(p.jsx)("div",{className:"fail",children:"\ud558\uc9c0\ub9cc, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}):"",Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/main",render:function(){return Object(p.jsx)(O,{changeLoginStatus:t.changeLoginStatus})}}),Object(p.jsx)(l.b,{exact:!0,path:"/login",render:function(){return Object(p.jsx)(g,{handleStatus:t.handleStatus})}}),Object(p.jsx)(l.b,{path:"/",render:function(){return a?Object(p.jsx)(l.a,{to:"/main"}):Object(p.jsx)(l.a,{to:"/login"})}})]})]})})}}]),a}(n.Component)),f=Object(l.g)(v),x=a(15);a(66).config(),c.a.render(Object(p.jsx)(x.a,{children:Object(p.jsx)(f,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.2cfa1841.chunk.js.map