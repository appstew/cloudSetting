{"ast":null,"code":"import _defineProperty from\"/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router-dom';import axios from'axios';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:'',password:''};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleSubmit\",value:function handleSubmit(){var _this2=this;var _this$state=this.state,username=_this$state.username,password=_this$state.password;axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/signin\"),{username:username,password:password},{withCredentials:true}).then(function(res){localStorage.setItem('accessToken',res.data);_this2.props.handleStatus();}).catch(function(err){_this2.setState({username:'',password:''});if(err.response.status===401){console.log(err.response.status);alert('이름과 비밀번호를 정확히 입력해주세요!');}});}},{key:\"handleChange\",value:function handleChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-items\",onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"\\uC774\\uB984\",value:this.state.username,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",value:this.state.password,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:this.handleSubmit,children:\"\\uB85C\\uADF8\\uC778\"})]})});}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"sources":["/javatest/hrd/intelliJ_projects/section4/cloudSetting/be-sprint-deployment/client/src/components/Login.js"],"names":["React","Component","withRouter","axios","Login","props","state","username","password","handleSubmit","bind","handleChange","post","process","env","REACT_APP_API_URL","withCredentials","then","res","localStorage","setItem","data","handleStatus","catch","err","setState","response","status","console","log","alert","e","target","name","value","preventDefault"],"mappings":"09BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,C,2FAEMC,CAAAA,K,8FAMJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EADiB,MALnBC,KAKmB,CALX,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,CAKW,CAEjB,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CAHiB,aAIlB,C,8CAED,uBAAe,iCACkB,KAAKJ,KADvB,CACLC,QADK,aACLA,QADK,CACKC,QADL,aACKA,QADL,CAGbL,KAAK,CACFS,IADH,WAEOC,OAAO,CAACC,GAAR,CAAYC,iBAFnB,YAGI,CACER,QAAQ,CAARA,QADF,CAEEC,QAAQ,CAARA,QAFF,CAHJ,CAOI,CAAEQ,eAAe,CAAE,IAAnB,CAPJ,EASGC,IATH,CASQ,SAAAC,GAAG,CAAI,CACXC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCF,GAAG,CAACG,IAAxC,EACA,MAAI,CAAChB,KAAL,CAAWiB,YAAX,GACD,CAZH,EAaGC,KAbH,CAaS,SAAAC,GAAG,CAAI,CACZ,MAAI,CAACC,QAAL,CAAc,CACZlB,QAAQ,CAAE,EADE,CAEZC,QAAQ,CAAE,EAFE,CAAd,EAIA,GAAIgB,GAAG,CAACE,QAAJ,CAAaC,MAAb,GAAwB,GAA5B,CAAiC,CAC/BC,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACE,QAAJ,CAAaC,MAAzB,EACAG,KAAK,CAAC,uBAAD,CAAL,CACD,CACF,CAtBH,EAuBD,C,4BAED,sBAAaC,CAAb,CAAgB,CACd,KAAKN,QAAL,oBACGM,CAAC,CAACC,MAAF,CAASC,IADZ,CACmBF,CAAC,CAACC,MAAF,CAASE,KAD5B,GAGD,C,sBAED,iBAAS,CACP,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAE,kBAAAH,CAAC,QAAIA,CAAAA,CAAC,CAACI,cAAF,EAAJ,EAAxC,wBACE,YAAK,SAAS,CAAC,OAAf,mBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,cAHd,CAIE,KAAK,CAAE,KAAK7B,KAAL,CAAWC,QAJpB,CAKE,QAAQ,CAAE,KAAKI,YALjB,EAFF,cASE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,0BAHd,CAIE,KAAK,CAAE,KAAKL,KAAL,CAAWE,QAJpB,CAKE,QAAQ,CAAE,KAAKG,YALjB,EATF,cAiBE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,KAAKF,YAApC,gCAjBF,GADF,EADF,CAuBD,C,mBAtEiBR,S,EAyEpB,cAAeC,CAAAA,UAAU,CAACE,KAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport './Login.css';\n\nclass Login extends Component {\n  state = {\n    username: '',\n    password: ''\n  }\n\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleSubmit() {\n    const { username, password } = this.state;\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/signin`,\n        {\n          username,\n          password\n        },\n        { withCredentials: true }\n      )\n      .then(res => {\n        localStorage.setItem('accessToken', res.data);\n        this.props.handleStatus();\n      })\n      .catch(err => {\n        this.setState({\n          username: '',\n          password: ''\n        });\n        if (err.response.status === 401) {\n          console.log(err.response.status);\n          alert('이름과 비밀번호를 정확히 입력해주세요!');\n        }\n      });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"form-container\">\n        <form className=\"form-items\" onSubmit={e => e.preventDefault()}>\n          <div className=\"login\">Login</div>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"이름\"\n            value={this.state.username}\n            onChange={this.handleChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"비밀번호\"\n            value={this.state.password}\n            onChange={this.handleChange}\n          />\n\n          <button type=\"submit\" onClick={this.handleSubmit}>로그인</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}